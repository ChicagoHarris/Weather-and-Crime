{"name":"CrimeScape","tagline":"Understanding the data and model","body":"CrimeScape predicts when and where violent criminal activity is likely to occur. Currently, the model predicts the likelihood of sudden violent criminal activity (shootings and homicides, aggravated assaults, and armed robberies) down to the hour and census tract area. CrimeScape calculates the relative chance of crime in each census tract compared to the citywide average at a given hour.\r\n\r\nSo far, CrimeScape’s overall predictions are accurate 70% of the time on average. The methodology and data used for calculating the predictions are explained here. You can also see the underlying code in our [Github repo](https://github.com/CivicScape).\r\n\r\n# How it works\r\n## Data\r\nCrimeScape generates its predictions using only data that is open and available to the public. The data we use is:\r\n\r\n### Weather Forecasts\r\nTemperature, precipitation, relative humidity, wind speed\r\nSource: [National Oceanic and Atmospheric Administration (NOAA)](http://forecast.weather.gov/MapClick.php?CityName=Chicago&state=IL&site=LOT&textField1=41.837&textField2=-87.685&e=1#.VljQ9t-rSu6)\r\n### Past Weather Activity\r\nTemperature, precipitation, relative humidity, wind speed\r\nSource: Plenario via NOAA\r\n### Past Crime Activity\r\nRobbery count per census tract, assault count per census tract, shooting and homicide count per census tract\r\nSource: Accessed from [Plenar.io](http://plenar.io/explore#detail/obs_date__le=2015%2F10%2F21&obs_date__ge=2015%2F07%2F23&agg=week&dataset_name=crimes_2001_to_present&resolution=500) or each city's data portal such as the Chicago Data Portal\r\n\r\n## Model\r\nCrimeScape uses public data and a feed-forward neural network model to understand and predict patterns of violent crime activity. Our model differs from other crime prediction models in several ways:\r\n\r\n* It calculates not just the absolute chance of crime, but the relative chance for a given area at a given time compared to the rest of the city.\r\n* It analyzes not just static environmental factors, but changes in environmental variables over a specific time period, such as the speed of changes in weather.\r\n* Since crime is a relatively rare event, the model creates a dataset with a more balanced distribution of instances of crime and no-crime to allow for better understanding of the conditions under which crime does occur. This technique of decreasing the sampling rate of no-crime occurrences at an optimal rate is called “downsampling.”\r\n\r\n## Downsampling\r\nIn the CrimeScape model, crime occurrences within each hour and tract are represented by 1 and no-crime occurrences are represented by 0. A challenge of using machine learning for crime prediction is that crime occurrences are rare events compared to no-crime occurrences. This can lead the algorithm to under-predict crime overall because it looks like, in general, there is low likelihood of crime happening.\r\n\r\nIn addition to this, increasing the number proportion of positive observations in the dataset allows the algorithm to learn which variables/circumstances under which crime is likely to occur. In an unbalanced dataset, there are not enough positive cases to determine which variables are important for predicting crime. To compensate for this, the model “downsamples” (or decreases the sampling rate of) no-crime occurrences to crime occurrences at a ratio of 1:1. This ratio was determined to be optimal using an [F1 score accuracy test](https://www.kaggle.com/wiki/MeanFScore).\r\n\r\n## Generating Overall Predictions\r\nThe model utilizes a feed-forward neural network with downsampled non-crime occurrences. The model relies on 100 separately downsampled subsets of the data for the City of Chicago overall. Each of these subsets is trained in a separate neural network. The process is updated weekly with five new downsampled subsets trained in a new network.\r\n\r\nThe model generates a number of predictions for each census tract at a given hour with slightly different initial conditions. The final prediction for each census tract that we display in CrimeScape is a weighted average of those predictions based on historical performance.\r\n\r\n# Evaluation\r\nOur main measure of accuracy is the **ratio of hours correctly predicted to total hours for which predictions were made**. For example, in our Chicago model, we define an hour to be “correctly predicted” if 1) CrimeScape predicted criminal activity at 50-100% and a crime did occur or 2) CrimeScape predicted criminal activity at 0-49% and a crime did not occur. These cutpoints differ by city but can be accessed in our evaluation code by city. We aim to deploy a city only after CrimeScape is about 70% accurate by this measure.\r\n\r\nWe further evaluate our model along several different metrics. We calculate a [confusion matrix](http://www.dataschool.io/simple-guide-to-confusion-matrix-terminology/) every week for our updated model that compares the predicted values with what actually happened. The metrics in the confusion matrix are calculated in the following way:\r\n\r\nActual Value (confirmed by occurrences)\r\n\r\nPredicted Value (predicted by the model)\r\n\r\nPositive Negative Positive TP (True Positive) FP (False Positive) Negative FN (False Negative) TN (True Negative)\r\n\r\n**True Positive Rate = TP / (TP + FN)**\r\nWhen crime did in fact occur, the true positive rate tells you the proportion of times that CrimeScape correctly predicted there would be a crime. It is the probability of success, given crime.\r\n\r\n**False Positive Rate = FP / (FP + TN)**\r\nWhen crime did not occur, the false positive rate tells you the proportion of times that CrimeScape incorrectly predicted there would be a crime. It is the probability of failure, given no crime.\r\n\r\nOur goal is to optimize to maximize true positives and minimize false negatives, while maintaining less than 25% false positives (as a maximum threshold).\r\n\r\n# Additional Reading\r\n\r\n[Logistic Regression in Rare Events Data](http://j.mp/lBZoIi), Gary King and Langche Zeng (2001)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}
